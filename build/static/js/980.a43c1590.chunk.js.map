{"version":3,"file":"static/js/980.a43c1590.chunk.js","mappings":"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","sources":["features/auth/pages/RegisterPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../../app/providers/AuthContext';\r\nimport { useToast } from '../../../shared/components/Toast/ToastProvider';\r\n\r\nconst RegisterPage: React.FC = () => {\r\n  const { addToast } = useToast();\r\n  const { register } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [formData, setFormData] = useState({\r\n    nombre: '',\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: '',\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [e.target.name]: e.target.value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    if (formData.password !== formData.confirmPassword) {\r\n      setError('Las contraseñas no coinciden');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    // Validaciones según backend: mínimo 8, mayúscula, minúscula y número\r\n    const password = formData.password;\r\n    if (password.length < 8) {\r\n      setError('La contraseña debe tener al menos 8 caracteres');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    if (!/[A-Z]/.test(password) || !/[a-z]/.test(password) || !/\\d/.test(password)) {\r\n      setError('La contraseña debe incluir mayúscula, minúscula y número');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Registrar usuario\r\n      await register(formData.nombre, formData.email, formData.password);\r\n\r\n      addToast({\r\n        type: 'success',\r\n        title: 'Registro exitoso',\r\n        message: 'Tu cuenta ha sido creada correctamente. ¡Bienvenido!'\r\n      });\r\n\r\n      navigate('/');\r\n    } catch (err: any) {\r\n      let message = err?.message || 'Error al registrar usuario';\r\n      // Si el backend devuelve errores de validación, mostrar el primero\r\n      const details = err?.details;\r\n      if (details && Array.isArray(details.errors) && details.errors.length > 0) {\r\n        message = details.errors[0].message || message;\r\n      }\r\n      setError(message);\r\n      addToast({\r\n        type: 'error',\r\n        title: 'Error en registro',\r\n        message\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen items-center justify-center bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900\">\r\n      <div className=\"w-full max-w-md rounded-3xl border border-white/10 bg-white/10 p-8 backdrop-blur\">\r\n        <div className=\"mb-6 flex flex-col items-center\">\r\n          <div className=\"flex h-12 w-12 items-center justify-center rounded-2xl bg-brand-500 font-bold text-white\">\r\n            OT\r\n          </div>\r\n          <h1 className=\"mt-4 text-xl font-semibold text-white\">Únete a Overtime</h1>\r\n          <p className=\"text-sm text-slate-200/80\">Crea tu cuenta para participar</p>\r\n        </div>\r\n\r\n        <form className=\"space-y-5\" onSubmit={handleSubmit}>\r\n          <div>\r\n            <label className=\"mb-1 block text-sm text-white\">Nombre completo</label>\r\n            <input\r\n              className=\"w-full rounded-lg border border-white/20 bg-white/10 px-3 py-2 text-white placeholder-slate-300 focus:border-brand-500 focus:outline-none\"\r\n              type=\"text\"\r\n              name=\"nombre\"\r\n              value={formData.nombre}\r\n              onChange={handleChange}\r\n              required\r\n              placeholder=\"Tu nombre completo\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"mb-1 block text-sm text-white\">Email</label>\r\n            <input\r\n              className=\"w-full rounded-lg border border-white/20 bg-white/10 px-3 py-2 text-white placeholder-slate-300 focus:border-brand-500 focus:outline-none\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n              required\r\n              placeholder=\"tu@email.com\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"mb-1 block text-sm text-white\">Contraseña</label>\r\n            <input\r\n              className=\"w-full rounded-lg border border-white/20 bg-white/10 px-3 py-2 text-white placeholder-slate-300 focus:border-brand-500 focus:outline-none\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={formData.password}\r\n              onChange={handleChange}\r\n              required\r\n              placeholder=\"Mínimo 8 caracteres, con mayúscula, minúscula y número\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"mb-1 block text-sm text-white\">Confirmar contraseña</label>\r\n            <input\r\n              className=\"w-full rounded-lg border border-white/20 bg-white/10 px-3 py-2 text-white placeholder-slate-300 focus:border-brand-500 focus:outline-none\"\r\n              type=\"password\"\r\n              name=\"confirmPassword\"\r\n              value={formData.confirmPassword}\r\n              onChange={handleChange}\r\n              required\r\n              placeholder=\"Repite tu contraseña\"\r\n            />\r\n          </div>\r\n\r\n          {error && <p className=\"text-sm text-red-400\">{error}</p>}\r\n\r\n          <button\r\n            className=\"w-full rounded-lg bg-brand-600 px-4 py-2 font-medium text-white hover:bg-brand-700 disabled:opacity-50\"\r\n            disabled={loading}\r\n            type=\"submit\"\r\n          >\r\n            {loading ? 'Enviando solicitud…' : 'Enviar solicitud de registro'}\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"mt-6 text-center\">\r\n          <p className=\"text-sm text-slate-200/80\">\r\n            ¿Ya tienes cuenta?{' '}\r\n            <button\r\n              onClick={() => navigate('/login')}\r\n              className=\"text-brand-400 hover:text-brand-300 underline\"\r\n            >\r\n              Inicia sesión\r\n            </button>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterPage;"],"names":["RegisterPage","addToast","useToast","register","useAuth","navigate","useNavigate","formData","setFormData","useState","nombre","email","password","confirmPassword","loading","setLoading","error","setError","handleChange","e","prev","_objectSpread","target","name","value","_jsx","className","children","_jsxs","onSubmit","async","preventDefault","length","test","type","title","message","err","details","Array","isArray","errors","onChange","required","placeholder","disabled","onClick"],"sourceRoot":""}