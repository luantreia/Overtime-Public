"use strict";(self.webpackChunkovertime_publicpage_actualizadots=self.webpackChunkovertime_publicpage_actualizadots||[]).push([[114],{1114:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var a=s(5043),r=s(9441),n=s(3207),l=s(1663);class i{static async getAll(e){const t=new URLSearchParams;e&&Object.entries(e).forEach(e=>{let[s,a]=e;void 0!==a&&null!==a&&t.append(s,String(a))});const s=t.toString()?"".concat(this.API_ENDPOINT,"?").concat(t):this.API_ENDPOINT;return(0,l.t)(s)}static async getPaginated(e){var t,s;const a=new URLSearchParams,r=null!==(t=null===e||void 0===e?void 0:e.page)&&void 0!==t?t:1,n=null!==(s=null===e||void 0===e?void 0:e.limit)&&void 0!==s?s:20;a.append("page",String(r)),a.append("limit",String(n));const i=null===e||void 0===e?void 0:e.filters;i&&Object.entries(i).forEach(e=>{let[t,s]=e;void 0!==s&&null!==s&&a.append(t,String(s))});const c="".concat(this.API_ENDPOINT,"?").concat(a.toString());return(0,l.t)(c)}static async getById(e){return(0,l.t)("".concat(this.API_ENDPOINT,"/").concat(e))}static async create(e){return(0,l.t)("".concat(this.API_ENDPOINT),{method:"POST",body:JSON.stringify(e)})}static async update(e,t){return(0,l.t)("".concat(this.API_ENDPOINT,"/").concat(e),{method:"PATCH",body:JSON.stringify(t)})}static async delete(e){return(0,l.t)("".concat(this.API_ENDPOINT,"/").concat(e),{method:"DELETE"})}}i.API_ENDPOINT="/jugadores";var c=s(579);const d=()=>{const[e,t]=(0,a.useState)(1),[s,l]=(0,a.useState)(20),{data:d,loading:o,error:u,refetch:x}=(0,n.t)((0,a.useCallback)(()=>i.getPaginated({page:e,limit:s}),[e,s])),m=(0,a.useMemo)(()=>{var t;if(!d)return[];if(Array.isArray(d)){const t=(e-1)*s;return d.slice(t,t+s)}return null!==(t=d.items)&&void 0!==t?t:[]},[d,e,s]),h=(0,a.useMemo)(()=>{var e;return d?Array.isArray(d)?d.length:null!==(e=d.total)&&void 0!==e?e:m.length:0},[d,m.length]),g=(0,a.useMemo)(()=>s>0?Math.max(1,Math.ceil(h/s)):1,[h,s]);return o?(0,c.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsx)("div",{className:"mb-4 h-8 w-8 animate-spin rounded-full border-4 border-brand-200 border-t-brand-600 mx-auto"}),(0,c.jsx)("p",{className:"text-slate-600",children:"Cargando jugadores..."})]})}):u?(0,c.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,c.jsxs)("div",{className:"text-center",children:[(0,c.jsxs)("p",{className:"mb-4 text-red-600",children:["Error al cargar jugadores: ",u]}),(0,c.jsx)("button",{onClick:x,className:"rounded-lg bg-brand-600 px-4 py-2 text-white hover:bg-brand-700",children:"Reintentar"})]})}):(0,c.jsx)("div",{className:"min-h-screen bg-slate-50 py-8",children:(0,c.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[(0,c.jsxs)("div",{className:"mb-8",children:[(0,c.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Jugadores"}),(0,c.jsx)("p",{className:"mt-2 text-slate-600",children:"Directorio de jugadores registrados"})]}),m&&0!==m.length?(0,c.jsx)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:m.map(e=>{const t=e._id||e.id;return(0,c.jsx)(r.hT,{jugador:e,variante:"activo",actions:(0,c.jsx)("button",{onClick:()=>console.log("Ver detalles de",e.nombre),className:"rounded-lg bg-brand-600 px-3 py-1.5 text-sm text-white hover:bg-brand-700",children:"Ver detalles"})},t)})}):(0,c.jsx)("div",{className:"text-center py-12",children:(0,c.jsx)("p",{className:"text-slate-500",children:"No hay jugadores disponibles"})}),(0,c.jsxs)("div",{className:"mt-8 flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("span",{className:"text-sm text-slate-600",children:"Mostrar"}),(0,c.jsxs)("select",{value:s,onChange:e=>{t(1),l(parseInt(e.target.value))},className:"rounded-lg border border-slate-300 text-sm px-2 py-1",children:[(0,c.jsx)("option",{value:12,children:"12"}),(0,c.jsx)("option",{value:20,children:"20"}),(0,c.jsx)("option",{value:36,children:"36"}),(0,c.jsx)("option",{value:44,children:"44"})]}),(0,c.jsx)("span",{className:"text-sm text-slate-600",children:"por p\xe1gina"})]}),(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("button",{onClick:()=>t(e=>Math.max(1,e-1)),disabled:e<=1,className:"rounded-lg border border-slate-300 px-3 py-1.5 text-sm text-slate-700 disabled:opacity-50",children:"\u2190 Anterior"}),(0,c.jsxs)("span",{className:"text-sm text-slate-700",children:["P\xe1gina ",e," de ",g]}),(0,c.jsx)("button",{onClick:()=>t(e=>Math.min(g,e+1)),disabled:e>=g,className:"rounded-lg border border-slate-300 px-3 py-1.5 text-sm text-slate-700 disabled:opacity-50",children:"Siguiente \u2192"})]})]})]})})}},3207:(e,t,s)=>{s.d(t,{t:()=>r});var a=s(5043);function r(e){const[t,s]=(0,a.useState)(),[r,n]=(0,a.useState)(!0),[l,i]=(0,a.useState)(null),c=(0,a.useCallback)(async()=>{n(!0),i(null);try{const t=await e();s(t)}catch(t){i(t instanceof Error?t.message:"An unknown error occurred")}finally{n(!1)}},[e]);return(0,a.useEffect)(()=>{c()},[c]),{data:t,loading:r,error:l,refetch:c}}}}]);
//# sourceMappingURL=114.117d6cd0.chunk.js.map