"use strict";(self.webpackChunkovertime_publicpage_actualizadots=self.webpackChunkovertime_publicpage_actualizadots||[]).push([[383],{38:(e,s,t)=>{t.d(s,{O:()=>r});var a=t(9379),l=t(1663);class r{static async getAll(e){const s=new URLSearchParams;e&&Object.entries(e).forEach(e=>{let[t,a]=e;void 0!==a&&null!==a&&s.append(t,String(a))});const t=s.toString()?"".concat(this.API_ENDPOINT,"?").concat(s):this.API_ENDPOINT;return(await(0,l.t)(t)).map(e=>(0,a.A)((0,a.A)({},e),{},{id:e._id||e.id}))}static async getById(e){const s=await(0,l.t)("".concat(this.API_ENDPOINT,"/").concat(e));return(0,a.A)((0,a.A)({},s),{},{id:s._id||s.id})}static async create(e){return(0,l.t)("".concat(this.API_ENDPOINT),{method:"POST",body:JSON.stringify(e)})}static async update(e,s){return(0,l.t)("".concat(this.API_ENDPOINT,"/").concat(e),{method:"PATCH",body:JSON.stringify(s)})}static async delete(e){return(0,l.t)("".concat(this.API_ENDPOINT,"/").concat(e),{method:"DELETE"})}static async getByEstado(e){return(0,l.t)("".concat(this.API_ENDPOINT,"?estado=").concat(e))}static async getActivas(){return this.getByEstado("en_curso")}static async getProximas(){return this.getByEstado("proximamente")}}r.API_ENDPOINT="/competencias"},468:(e,s,t)=>{t.d(s,{P:()=>d});var a=t(5043),l=t(1663),r=t(579);const d=e=>{let{faseId:s,participaciones:t}=e;const[d,i]=(0,a.useState)(t||[]),[n,o]=(0,a.useState)(!t),[c,x]=(0,a.useState)(null);if((0,a.useEffect)(()=>{if(t)return i(t),void o(!1);(async()=>{if(s)try{const e=new URLSearchParams({fase:s}),t=await(0,l.t)("/participacion-fase?".concat(e.toString()),{useAuth:!1});i(t)}catch(e){x("Error al cargar la tabla de posiciones")}finally{o(!1)}})()},[s,t]),n)return(0,r.jsx)("div",{children:"Cargando tabla de posiciones..."});if(c)return(0,r.jsx)("div",{children:c});const m={};return d.forEach(e=>{const s=e.grupo||e.division||"general";m[s]||(m[s]=[]),m[s].push(e)}),Object.keys(m).forEach(e=>{m[e].sort((e,s)=>s.puntos-e.puntos)}),(0,r.jsx)("div",{className:"tabla-posiciones",children:Object.entries(m).map(e=>{let[s,t]=e;return(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h3",{className:"text-lg font-bold mb-4",children:"general"===s?"Tabla General":"Grupo/Divisi\xf3n: ".concat(s)}),(0,r.jsxs)("table",{className:"min-w-full bg-white border border-gray-300",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-100",children:[(0,r.jsx)("th",{className:"py-2 px-4 border",children:"Pos"}),(0,r.jsx)("th",{className:"py-2 px-4 border",children:"Equipo"}),(0,r.jsx)("th",{className:"py-2 px-4 border",children:"PJ"}),(0,r.jsx)("th",{className:"py-2 px-4 border",children:"PG"}),(0,r.jsx)("th",{className:"py-2 px-4 border",children:"PP"}),(0,r.jsx)("th",{className:"py-2 px-4 border",children:"PE"}),(0,r.jsx)("th",{className:"py-2 px-4 border",children:"Dif"}),(0,r.jsx)("th",{className:"py-2 px-4 border",children:"Pts"})]})}),(0,r.jsx)("tbody",{children:t.map((e,s)=>{var t,a;return(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"py-2 px-4 border text-center",children:s+1}),(0,r.jsx)("td",{className:"py-2 px-4 border",children:(null===(t=e.participacionTemporada)||void 0===t||null===(a=t.equipo)||void 0===a?void 0:a.nombre)||"Equipo desconocido"}),(0,r.jsx)("td",{className:"py-2 px-4 border text-center",children:e.partidosJugados}),(0,r.jsx)("td",{className:"py-2 px-4 border text-center",children:e.partidosGanados}),(0,r.jsx)("td",{className:"py-2 px-4 border text-center",children:e.partidosPerdidos}),(0,r.jsx)("td",{className:"py-2 px-4 border text-center",children:e.partidosEmpatados}),(0,r.jsx)("td",{className:"py-2 px-4 border text-center",children:e.diferenciaPuntos}),(0,r.jsx)("td",{className:"py-2 px-4 border text-center font-bold",children:e.puntos})]},e.id)})})]})]},s)})})}},2383:(e,s,t)=>{t.r(s),t.d(s,{default:()=>_});var a=t(5043),l=t(3216),r=t(3207),d=t(38),i=t(1663);class n{static async getLeaderboard(e){var s,t;const a=new URLSearchParams({modalidad:e.modalidad,categoria:e.categoria,minMatches:String(null!==(s=e.minMatches)&&void 0!==s?s:0),limit:String(null!==(t=e.limit)&&void 0!==t?t:50)});return e.competition&&a.set("competition",e.competition),e.season&&a.set("season",e.season),(0,i.t)("".concat(this.BASE,"/leaderboard?").concat(a.toString()))}}n.BASE="/ranked";var o=t(5182),c=t(7777),x=t(6677),m=t(6820),p=t(468),h=t(579);const u=["octavos","cuartos","semifinal","final"],b={octavos:"Octavos de Final",cuartos:"Cuartos de Final",semifinal:"Semifinales",final:"Final"},g=e=>{let{matches:s}=e;const t=s.reduce((e,s)=>{const t=s.etapa||"otro";return e[t]||(e[t]=[]),e[t].push(s),e},{}),a=u.filter(e=>t[e]&&t[e].length>0);return 0===a.length?(0,h.jsx)("div",{className:"text-center p-8 text-slate-500",children:"No hay partidos de playoff configurados con etapas est\xe1ndar (Octavos, Cuartos, Semifinal, Final)."}):(0,h.jsx)("div",{className:"overflow-x-auto pb-8",children:(0,h.jsx)("div",{className:"flex min-w-max space-x-12 px-4",children:a.map((e,s)=>(0,h.jsxs)("div",{className:"flex flex-col min-w-[280px]",children:[(0,h.jsx)("h3",{className:"text-center font-bold text-slate-700 mb-6 bg-slate-100 py-2 rounded-lg border border-slate-200 shadow-sm",children:b[e]}),(0,h.jsx)("div",{className:"flex flex-col justify-around flex-grow space-y-8",children:t[e].map(e=>{var t,l,r,d;return(0,h.jsxs)("div",{className:"relative bg-white border border-slate-200 rounded-lg shadow-sm p-3 hover:shadow-md transition-shadow",children:[(0,h.jsx)("div",{className:"text-xs text-slate-400 mb-2 text-center",children:e.fecha?new Date(e.fecha).toLocaleDateString():"Fecha por definir"}),(0,h.jsxs)("div",{className:"flex justify-between items-center p-2 rounded ".concat(e.marcadorLocal>e.marcadorVisitante?"bg-green-50 font-bold":""),children:[(0,h.jsx)("span",{className:"truncate mr-2 text-sm",children:(null===(t=e.equipoLocal)||void 0===t?void 0:t.nombre)||"Local"}),(0,h.jsx)("span",{className:"bg-slate-100 px-2 py-0.5 rounded text-sm font-mono",children:null!==(l=e.marcadorLocal)&&void 0!==l?l:"-"})]}),(0,h.jsx)("div",{className:"h-px bg-slate-100 my-1"}),(0,h.jsxs)("div",{className:"flex justify-between items-center p-2 rounded ".concat(e.marcadorVisitante>e.marcadorLocal?"bg-green-50 font-bold":""),children:[(0,h.jsx)("span",{className:"truncate mr-2 text-sm",children:(null===(r=e.equipoVisitante)||void 0===r?void 0:r.nombre)||"Visitante"}),(0,h.jsx)("span",{className:"bg-slate-100 px-2 py-0.5 rounded text-sm font-mono",children:null!==(d=e.marcadorVisitante)&&void 0!==d?d:"-"})]}),s<a.length-1&&(0,h.jsx)("div",{className:"hidden lg:block absolute top-1/2 -right-6 w-6 h-0.5 bg-slate-300 z-[-1]"})]},e.id)})})]},e))})})};var j=t(3986);const N=["title","titleId"];function f(e,s){let{title:t,titleId:l}=e,r=(0,j.A)(e,N);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},r),t?a.createElement("title",{id:l},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const v=a.forwardRef(f),y=["title","titleId"];function w(e,s){let{title:t,titleId:l}=e,r=(0,j.A)(e,y);return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":l},r),t?a.createElement("title",{id:l},t):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const k=a.forwardRef(w),E=e=>{let{trigger:s}=e;const[t,l]=(0,a.useState)(!1);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{onClick:()=>l(!0),className:"cursor-pointer inline-flex items-center",children:s||(0,h.jsx)("button",{className:"text-slate-400 hover:text-brand-600 transition-colors","aria-label":"Informaci\xf3n sobre el sistema de ranking",children:(0,h.jsx)(v,{className:"h-5 w-5"})})}),t&&(0,h.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:(0,h.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto relative animate-in zoom-in-95 duration-200",children:[(0,h.jsx)("button",{onClick:()=>l(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 p-1 rounded-full hover:bg-slate-100 transition-colors",children:(0,h.jsx)(k,{className:"h-6 w-6"})}),(0,h.jsxs)("div",{className:"p-6",children:[(0,h.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,h.jsx)("div",{className:"h-10 w-10 rounded-full bg-brand-100 flex items-center justify-center text-brand-600",children:(0,h.jsx)(v,{className:"h-6 w-6"})}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{className:"text-lg font-bold text-slate-900",children:"Sistema de Ranking ELO"}),(0,h.jsx)("p",{className:"text-sm text-slate-500",children:"C\xf3mo calculamos tu puntaje"})]})]}),(0,h.jsxs)("div",{className:"space-y-6 text-sm text-slate-600",children:[(0,h.jsxs)("section",{children:[(0,h.jsx)("h4",{className:"font-semibold text-slate-900 mb-2 flex items-center gap-2",children:"\ud83c\udfaf \xbfQu\xe9 es el ELO?"}),(0,h.jsxs)("p",{className:"leading-relaxed",children:["Es un sistema matem\xe1tico para calcular la habilidad relativa de los jugadores. Todos comienzan con un rating base de ",(0,h.jsx)("span",{className:"font-bold text-brand-600",children:"1500 puntos"}),". Ganar partidos aumenta tu rating, y perderlo lo disminuye."]})]}),(0,h.jsxs)("section",{className:"bg-slate-50 p-4 rounded-lg border border-slate-100",children:[(0,h.jsx)("h4",{className:"font-semibold text-slate-900 mb-3",children:"\ud83d\udcca Factores de Cambio (K-Factor)"}),(0,h.jsx)("p",{className:"mb-3",children:"La cantidad de puntos que ganas o pierdes depende de tu experiencia y nivel actual:"}),(0,h.jsxs)("ul",{className:"space-y-2",children:[(0,h.jsxs)("li",{className:"flex items-start gap-2",children:[(0,h.jsx)("span",{className:"bg-green-100 text-green-700 text-xs font-bold px-2 py-0.5 rounded mt-0.5",children:"Novatos"}),(0,h.jsxs)("span",{children:[(0,h.jsx)("strong",{className:"text-slate-900",children:"K=32"}),": Para tus primeros 30 partidos. Los cambios son m\xe1s grandes para ubicarte r\xe1pido en tu nivel real."]})]}),(0,h.jsxs)("li",{className:"flex items-start gap-2",children:[(0,h.jsx)("span",{className:"bg-blue-100 text-blue-700 text-xs font-bold px-2 py-0.5 rounded mt-0.5",children:"Est\xe1ndar"}),(0,h.jsxs)("span",{children:[(0,h.jsx)("strong",{className:"text-slate-900",children:"K=24"}),": Despu\xe9s de 30 partidos, tu rating se estabiliza."]})]}),(0,h.jsxs)("li",{className:"flex items-start gap-2",children:[(0,h.jsx)("span",{className:"bg-purple-100 text-purple-700 text-xs font-bold px-2 py-0.5 rounded mt-0.5",children:"\xc9lite"}),(0,h.jsxs)("span",{children:[(0,h.jsx)("strong",{className:"text-slate-900",children:"K=16"}),": Si superas los 2400 puntos, los cambios son menores para proteger la precisi\xf3n en niveles altos."]})]})]})]}),(0,h.jsxs)("section",{children:[(0,h.jsx)("h4",{className:"font-semibold text-slate-900 mb-2",children:"\u2696\ufe0f Balance de Equipos"}),(0,h.jsxs)("p",{className:"leading-relaxed mb-2",children:["El sistema considera el ",(0,h.jsx)("strong",{children:"promedio de rating"})," de ambos equipos."]}),(0,h.jsxs)("ul",{className:"list-disc list-inside space-y-1 ml-1",children:[(0,h.jsxs)("li",{children:["Si ganas contra un equipo ",(0,h.jsx)("strong",{children:"m\xe1s fuerte"}),", ganas ",(0,h.jsx)("strong",{children:"m\xe1s puntos"}),"."]}),(0,h.jsxs)("li",{children:["Si ganas contra un equipo ",(0,h.jsx)("strong",{children:"m\xe1s d\xe9bil"}),", ganas ",(0,h.jsx)("strong",{children:"menos puntos"}),"."]}),(0,h.jsxs)("li",{children:["Si pierdes contra un equipo ",(0,h.jsx)("strong",{children:"m\xe1s fuerte"}),", pierdes ",(0,h.jsx)("strong",{children:"menos puntos"}),"."]})]})]})]}),(0,h.jsx)("div",{className:"mt-8 pt-4 border-t border-slate-100 flex justify-end",children:(0,h.jsx)("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 font-medium rounded-lg transition-colors",children:"Entendido"})})]})]})})]})};var P=t(9379),I=t(570);const S={programado:{label:"Programado",badgeClass:"bg-slate-100 text-slate-700 border border-slate-200"},en_juego:{label:"En juego",badgeClass:"bg-amber-100 text-amber-700 border border-amber-200 animate-pulse"},finalizado:{label:"Finalizado",badgeClass:"bg-emerald-100 text-emerald-700 border border-emerald-200"},cancelado:{label:"Cancelado",badgeClass:"bg-red-100 text-red-600 border border-red-200"}},A=e=>null===e||void 0===e?"N/A":e.toFixed(3),C=e=>{if(null===e||void 0===e)return"N/A";return"".concat(e>0?"+":"").concat(e.toFixed(3))},D=e=>{var s,t,l,d,i,n,c,x,m,p,u,b,g,j,N,f;let{partidoId:v}=e;const y=(0,a.useCallback)(()=>o.D.getById(v),[v]),{data:w,loading:k,error:E}=(0,r.t)(y),D=(0,a.useMemo)(()=>{var e;return(null!==(e=null===w||void 0===w?void 0:w.sets)&&void 0!==e?e:[]).slice().sort((e,s)=>{var t,a;return(null!==(t=e.numeroSet)&&void 0!==t?t:0)-(null!==(a=s.numeroSet)&&void 0!==a?a:0)})},[null===w||void 0===w?void 0:w.sets]),_=(0,a.useMemo)(()=>{var e,s,t,a;return{local:(null===w||void 0===w||null===(e=w.rankedMeta)||void 0===e||null===(s=e.teamColors)||void 0===s?void 0:s.local)||"rojo",visitante:(null===w||void 0===w||null===(t=w.rankedMeta)||void 0===t||null===(a=t.teamColors)||void 0===a?void 0:a.visitante)||"azul"}},[null===w||void 0===w||null===(s=w.rankedMeta)||void 0===s||null===(t=s.teamColors)||void 0===t?void 0:t.local,null===w||void 0===w||null===(l=w.rankedMeta)||void 0===l||null===(d=l.teamColors)||void 0===d?void 0:d.visitante]),O=(0,a.useMemo)(()=>{var e;const s={local:[],visitante:[],otros:[]},t=null!==(e=null===w||void 0===w?void 0:w.jugadores)&&void 0!==e?e:[];return t.forEach(e=>{e.teamColor===_.local?s.local.push(e):e.teamColor===_.visitante?s.visitante.push(e):s.otros.push(e)}),(0,P.A)((0,P.A)({},s),{},{total:t.length})},[null===w||void 0===w?void 0:w.jugadores,_.local,_.visitante]),L=null!==(i=null===w||void 0===w?void 0:w.marcadorLocal)&&void 0!==i?i:0,T=null!==(n=null===w||void 0===w?void 0:w.marcadorVisitante)&&void 0!==n?n:0,F=L===T,q=L>T,z=T>L,B=null===w||void 0===w||null===(c=w.rankedMeta)||void 0===c||null===(x=c.snapshot)||void 0===x?void 0:x.teamAverages,V=(0,a.useMemo)(()=>{var e,s;return w?F?"Empate":q?(null===(e=w.equipoLocal)||void 0===e?void 0:e.nombre)||"Equipo local":z?(null===(s=w.equipoVisitante)||void 0===s?void 0:s.nombre)||"Equipo visitante":"N/A":"N/A"},[F,q,w,z]),R="N/A"!==V,M=(null===w||void 0===w?void 0:w.estado)||"programado",G=S[M]||S.programado;if(k)return(0,h.jsx)("div",{className:"flex min-h-[420px] items-center justify-center",children:(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("div",{className:"mb-4 h-10 w-10 animate-spin rounded-full border-4 border-brand-200 border-t-brand-600 mx-auto"}),(0,h.jsx)("p",{className:"text-slate-600",children:"Cargando detalles del partido..."})]})});if(E||!w)return(0,h.jsx)("div",{className:"flex min-h-[420px] items-center justify-center",children:(0,h.jsx)("div",{className:"text-center",children:(0,h.jsxs)("p",{className:"mb-4 text-red-600",children:["No pudimos cargar el partido: ",E||"No disponible"]})})});const J=w.fecha&&w.hora?(0,I.r)("".concat(w.fecha,"T").concat(w.hora)):w.fecha?(0,I.Y)(w.fecha):"Fecha no disponible";return(0,h.jsxs)("div",{className:"mx-auto flex w-full max-w-5xl flex-col gap-8",children:[(0,h.jsxs)("section",{className:"relative overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-xl",children:[(0,h.jsx)("div",{className:"absolute inset-x-0 top-0 h-32 bg-gradient-to-r from-brand-500/15 via-brand-600/20 to-brand-500/15"}),(0,h.jsxs)("div",{className:"relative p-8 sm:p-10",children:[(0,h.jsxs)("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-start lg:justify-between",children:[(0,h.jsxs)("div",{className:"space-y-3",children:[(0,h.jsx)("span",{className:"inline-flex items-center gap-2 rounded-full px-4 py-1 text-xs font-semibold uppercase tracking-wide ".concat(G.badgeClass),children:G.label}),(0,h.jsx)("h1",{className:"text-2xl font-bold tracking-tight text-slate-900 sm:text-3xl",children:w.nombre||"".concat((null===(m=w.equipoLocal)||void 0===m?void 0:m.nombre)||"Local"," vs ").concat((null===(p=w.equipoVisitante)||void 0===p?void 0:p.nombre)||"Visitante")}),(0,h.jsx)("p",{className:"text-sm text-slate-500",children:J}),R&&(0,h.jsxs)("p",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1 text-xs font-semibold text-emerald-700",children:["finalizado"===M?"Ganador":"Parcial",": ",V]})]}),(0,h.jsx)("div",{className:"rounded-2xl border border-white/60 bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 px-6 py-5 text-white shadow-lg",children:(0,h.jsxs)("div",{className:"flex items-center justify-between gap-6",children:[(0,h.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center ".concat(q?"text-emerald-300":"text-white/80"),children:[(0,h.jsx)("span",{className:"text-xs uppercase tracking-wide text-white/60",children:(null===(u=w.equipoLocal)||void 0===u?void 0:u.nombre)||"Local"}),(0,h.jsx)("span",{className:"text-4xl font-black leading-none",children:L})]}),(0,h.jsxs)("div",{className:"flex flex-col items-center text-sm font-semibold text-white/60",children:[(0,h.jsx)("span",{className:"text-lg",children:"VS"}),(0,h.jsx)("span",{className:"text-[10px] uppercase tracking-[0.4em]",children:"Marcador"})]}),(0,h.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center ".concat(z?"text-emerald-300":"text-white/80"),children:[(0,h.jsx)("span",{className:"text-xs uppercase tracking-wide text-white/60",children:(null===(b=w.equipoVisitante)||void 0===b?void 0:b.nombre)||"Visitante"}),(0,h.jsx)("span",{className:"text-4xl font-black leading-none",children:T})]})]})})]}),(0,h.jsxs)("div",{className:"mt-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[(0,h.jsxs)("div",{className:"rounded-2xl border border-slate-100 bg-slate-50/80 p-4",children:[(0,h.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Competencia"}),(0,h.jsx)("p",{className:"mt-1 text-sm font-medium text-slate-900",children:(null===(g=w.competencia)||void 0===g?void 0:g.nombre)||"N/A"})]}),(0,h.jsxs)("div",{className:"rounded-2xl border border-slate-100 bg-slate-50/80 p-4",children:[(0,h.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Fase"}),(0,h.jsx)("p",{className:"mt-1 text-sm font-medium text-slate-900",children:(null===(j=w.fase)||void 0===j?void 0:j.nombre)||"N/A"})]}),(0,h.jsxs)("div",{className:"rounded-2xl border border-slate-100 bg-slate-50/80 p-4",children:[(0,h.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Escenario"}),(0,h.jsx)("p",{className:"mt-1 text-sm font-medium text-slate-900",children:w.escenario||"N/A"})]}),(0,h.jsxs)("div",{className:"rounded-2xl border border-slate-100 bg-slate-50/80 p-4",children:[(0,h.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Modalidad"}),(0,h.jsx)("p",{className:"mt-1 text-sm font-medium text-slate-900",children:w.modalidad||"N/A"})]})]})]})]}),(0,h.jsxs)("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-lg sm:p-8",children:[(0,h.jsxs)("header",{className:"mb-6 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Resultados por set"}),(0,h.jsx)("p",{className:"text-sm text-slate-500",children:"Detalle del progreso del partido set a set."})]}),(0,h.jsxs)("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-medium text-slate-500",children:[D.length," ",1===D.length?"set":"sets"]})]}),0===D.length?(0,h.jsx)("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-6 text-center text-sm text-slate-500",children:"A\xfan no hay sets cargados para este partido."}):(0,h.jsx)("div",{className:"grid gap-4 sm:grid-cols-2",children:D.map(e=>{var s,t,a;const l="local"===e.ganadorSet?(null===(s=w.equipoLocal)||void 0===s?void 0:s.nombre)||"Local":"visitante"===e.ganadorSet?(null===(t=w.equipoVisitante)||void 0===t?void 0:t.nombre)||"Visitante":"empate"===e.ganadorSet?"Empate":"Pendiente",r="local"===e.ganadorSet?"border border-brand-200 bg-brand-50 text-brand-700":"visitante"===e.ganadorSet?"border border-sky-200 bg-sky-50 text-sky-700":"empate"===e.ganadorSet?"border border-amber-200 bg-amber-50 text-amber-700":"border border-slate-200 bg-white text-slate-600";return(0,h.jsxs)("article",{className:"relative overflow-hidden rounded-2xl border border-slate-200 bg-white p-5 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Set"}),(0,h.jsx)("p",{className:"text-xl font-bold text-slate-900",children:null!==(a=e.numeroSet)&&void 0!==a?a:"N/A"})]}),(0,h.jsx)("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-[11px] font-semibold ".concat("finalizado"===e.estadoSet?"bg-emerald-100 text-emerald-700":"bg-amber-100 text-amber-700"),children:"finalizado"===e.estadoSet?"Finalizado":"En juego"})]}),(0,h.jsxs)("div",{className:"mt-4 rounded-xl border border-dashed border-slate-200 bg-slate-50 p-4",children:[(0,h.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Ganador"}),(0,h.jsx)("p",{className:"mt-2 inline-flex items-center rounded-lg px-3 py-2 text-sm font-semibold ".concat(r),children:l})]})]},e._id)})})]}),(0,h.jsxs)("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-lg sm:p-8",children:[(0,h.jsxs)("header",{className:"mb-6 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Jugadores destacados"}),(0,h.jsx)("p",{className:"text-sm text-slate-500",children:"Participantes asociados al partido y su variaci\xf3n de rating."})]}),(0,h.jsxs)("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-medium text-slate-500",children:[O.total," ",1===O.total?"jugador":"jugadores"]})]}),0===O.total?(0,h.jsx)("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-6 text-center text-sm text-slate-500",children:"No hay jugadores asociados a este partido todav\xeda."}):(0,h.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,h.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-gradient-to-b from-slate-50 to-white p-5",children:[(0,h.jsxs)("header",{className:"mb-4 flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Equipo local"}),(0,h.jsx)("p",{className:"text-sm font-medium text-slate-900",children:(null===(N=w.equipoLocal)||void 0===N?void 0:N.nombre)||"Local"})]}),(0,h.jsx)("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-900/90 px-3 py-1 text-[11px] font-semibold uppercase tracking-wide text-white",children:"rojo"===_.local?"Color rojo":"Color azul"})]}),(0,h.jsx)("div",{className:"space-y-3",children:0===O.local.length?(0,h.jsx)("p",{className:"text-sm text-slate-500",children:"Sin registros para este lado."}):O.local.map(e=>(0,h.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:e.playerId.nombre}),e.playerId.alias&&(0,h.jsxs)("p",{className:"text-xs text-slate-500",children:["Alias: ",e.playerId.alias]})]}),(0,h.jsx)("div",{className:"text-right text-[11px] font-semibold uppercase tracking-wide text-slate-400",children:C(e.delta)})]}),(0,h.jsxs)("dl",{className:"mt-3 grid grid-cols-2 gap-3 text-xs",children:[(0,h.jsxs)("div",{className:"rounded-lg bg-slate-50 p-2",children:[(0,h.jsx)("dt",{className:"text-[10px] font-semibold uppercase text-slate-400",children:"Pre"}),(0,h.jsx)("dd",{className:"mt-1 font-medium text-slate-700",children:A(e.preRating)})]}),(0,h.jsxs)("div",{className:"rounded-lg bg-slate-50 p-2",children:[(0,h.jsx)("dt",{className:"text-[10px] font-semibold uppercase text-slate-400",children:"Post"}),(0,h.jsx)("dd",{className:"mt-1 font-medium text-slate-700",children:A(e.postRating)})]})]})]},e._id))})]}),(0,h.jsxs)("div",{className:"rounded-2xl border border-slate-200 bg-gradient-to-b from-slate-50 to-white p-5",children:[(0,h.jsxs)("header",{className:"mb-4 flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Equipo visitante"}),(0,h.jsx)("p",{className:"text-sm font-medium text-slate-900",children:(null===(f=w.equipoVisitante)||void 0===f?void 0:f.nombre)||"Visitante"})]}),(0,h.jsx)("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-900/90 px-3 py-1 text-[11px] font-semibold uppercase tracking-wide text-white",children:"azul"===_.visitante?"Color azul":"Color rojo"})]}),(0,h.jsx)("div",{className:"space-y-3",children:0===O.visitante.length?(0,h.jsx)("p",{className:"text-sm text-slate-500",children:"Sin registros para este lado."}):O.visitante.map(e=>(0,h.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:e.playerId.nombre}),e.playerId.alias&&(0,h.jsxs)("p",{className:"text-xs text-slate-500",children:["Alias: ",e.playerId.alias]})]}),(0,h.jsx)("div",{className:"text-right text-[11px] font-semibold uppercase tracking-wide text-slate-400",children:C(e.delta)})]}),(0,h.jsxs)("dl",{className:"mt-3 grid grid-cols-2 gap-3 text-xs",children:[(0,h.jsxs)("div",{className:"rounded-lg bg-slate-50 p-2",children:[(0,h.jsx)("dt",{className:"text-[10px] font-semibold uppercase text-slate-400",children:"Pre"}),(0,h.jsx)("dd",{className:"mt-1 font-medium text-slate-700",children:A(e.preRating)})]}),(0,h.jsxs)("div",{className:"rounded-lg bg-slate-50 p-2",children:[(0,h.jsx)("dt",{className:"text-[10px] font-semibold uppercase text-slate-400",children:"Post"}),(0,h.jsx)("dd",{className:"mt-1 font-medium text-slate-700",children:A(e.postRating)})]})]})]},e._id))})]}),O.otros.length>0&&(0,h.jsx)("div",{className:"lg:col-span-2",children:(0,h.jsxs)("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 p-5",children:[(0,h.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Jugadores sin color asignado"}),(0,h.jsx)("div",{className:"mt-4 grid gap-3 sm:grid-cols-2",children:O.otros.map(e=>(0,h.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:e.playerId.nombre}),e.playerId.alias&&(0,h.jsxs)("p",{className:"text-xs text-slate-500",children:["Alias: ",e.playerId.alias]})]}),(0,h.jsx)("span",{className:"text-[11px] font-semibold uppercase tracking-wide text-slate-400",children:e.teamColor||"N/A"})]}),(0,h.jsxs)("dl",{className:"mt-3 grid grid-cols-3 gap-3 text-xs",children:[(0,h.jsxs)("div",{className:"rounded-lg bg-slate-50 p-2",children:[(0,h.jsx)("dt",{className:"text-[10px] font-semibold uppercase text-slate-400",children:"Pre"}),(0,h.jsx)("dd",{className:"mt-1 font-medium text-slate-700",children:A(e.preRating)})]}),(0,h.jsxs)("div",{className:"rounded-lg bg-slate-50 p-2",children:[(0,h.jsx)("dt",{className:"text-[10px] font-semibold uppercase text-slate-400",children:"Post"}),(0,h.jsx)("dd",{className:"mt-1 font-medium text-slate-700",children:A(e.postRating)})]}),(0,h.jsxs)("div",{className:"rounded-lg bg-slate-50 p-2",children:[(0,h.jsx)("dt",{className:"text-[10px] font-semibold uppercase text-slate-400",children:"\u0394"}),(0,h.jsx)("dd",{className:"mt-1 font-medium text-slate-700",children:C(e.delta)})]})]})]},e._id))})]})})]})]}),B&&(0,h.jsxs)("section",{className:"rounded-3xl border border-slate-200 bg-slate-900 p-6 text-white shadow-lg sm:p-8",children:[(0,h.jsxs)("header",{className:"mb-4",children:[(0,h.jsx)("h2",{className:"text-lg font-semibold",children:"Resumen Ranked"}),(0,h.jsx)("p",{className:"text-sm text-white/70",children:"Promedios de rating calculados para cada color de equipo."})]}),(0,h.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,h.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:[(0,h.jsxs)("p",{className:"text-xs font-semibold uppercase tracking-wide text-white/60",children:["Promedio equipo ",_.local]}),(0,h.jsx)("p",{className:"mt-2 text-3xl font-black",children:A(B[_.local])})]}),(0,h.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5",children:[(0,h.jsxs)("p",{className:"text-xs font-semibold uppercase tracking-wide text-white/60",children:["Promedio equipo ",_.visitante]}),(0,h.jsx)("p",{className:"mt-2 text-3xl font-black",children:A(B[_.visitante])})]})]})]}),(0,h.jsxs)("section",{className:"mb-2 rounded-3xl border border-slate-200 bg-white p-6 shadow-lg sm:p-8",children:[(0,h.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Metadatos del partido"}),(0,h.jsxs)("dl",{className:"mt-4 grid grid-cols-1 gap-4 text-sm sm:grid-cols-2",children:[(0,h.jsxs)("div",{className:"rounded-xl border border-slate-100 bg-slate-50 p-4",children:[(0,h.jsx)("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Creado por"}),(0,h.jsx)("dd",{className:"mt-1 font-medium text-slate-800",children:w.creadoPor||"N/A"})]}),(0,h.jsxs)("div",{className:"rounded-xl border border-slate-100 bg-slate-50 p-4",children:[(0,h.jsx)("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Estado"}),(0,h.jsx)("dd",{className:"mt-1 font-medium capitalize text-slate-800",children:(w.estado||"programado").replace("_"," ")})]}),(0,h.jsxs)("div",{className:"rounded-xl border border-slate-100 bg-slate-50 p-4",children:[(0,h.jsx)("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Administradores"}),(0,h.jsx)("dd",{className:"mt-1 font-medium text-slate-800",children:Array.isArray(w.administradores)&&w.administradores.length>0?w.administradores.join(", "):"N/A"})]}),(0,h.jsxs)("div",{className:"rounded-xl border border-slate-100 bg-slate-50 p-4",children:[(0,h.jsx)("dt",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"\xdaltima actualizaci\xf3n"}),(0,h.jsx)("dd",{className:"mt-1 font-medium text-slate-800",children:w.updatedAt?(0,I.r)(w.updatedAt):"N/A"})]})]})]})]})},_=()=>{var e,s;const{id:t}=(0,l.g)(),i=(0,l.Zp)(),[u,b]=(0,a.useState)("info"),[j,N]=(0,a.useState)([]),[f,v]=(0,a.useState)(!1),[y,w]=(0,a.useState)([]),[k,P]=(0,a.useState)(""),[I,S]=(0,a.useState)([]),[A,C]=(0,a.useState)(""),[_,O]=(0,a.useState)(null),[L,T]=(0,a.useState)([]),[F,q]=(0,a.useState)(!1),[z,B]=(0,a.useState)("list"),[V,R]=(0,a.useState)(""),{data:M,loading:G,error:J}=(0,r.t)((0,a.useCallback)(()=>{if(!t)throw new Error("ID de competencia no proporcionado");return d.O.getById(t)},[t])),H=!!M&&!0===M.rankedEnabled;(0,a.useEffect)(()=>{M&&M.rankedEnabled&&"leaderboard"===u&&K(),!M||"partidos"!==u&&"resultados"!==u||K()},[M,u]),(0,a.useEffect)(()=>{H&&"resultados"===u&&b("info")},[H,u]),(0,a.useEffect)(()=>{"leaderboard"===u?U():k?W(k):(S([]),C(""))},[k,u]),(0,a.useEffect)(()=>{A?Z(A):k&&"partidos"===u?Q(k):(O(null),T([]))},[A,k,u]);const U=async()=>{if(M){v(!0);try{const e=M.modalidad||"Foam",s=M.categoria||"Libre",t=await n.getLeaderboard({modalidad:e,categoria:s,competition:M.id,season:k||void 0,limit:50});N(t.items)}catch(e){console.error("Error loading leaderboard:",e)}finally{v(!1)}}},K=async()=>{if(M){q(!0);try{const e=await c.H.getByCompetencia(M.id);w(e),e.length>0&&P(e[e.length-1]._id)}catch(e){console.error("Error loading temporadas:",e)}finally{q(!1)}}},W=async e=>{q(!0);try{const s=await x.v.getByTemporada(e);S(s),s.length>0?C(s[s.length-1]._id):C("")}catch(s){console.error("Error loading fases:",s)}finally{q(!1)}},Z=async e=>{q(!0);try{const s=I.find(s=>s._id===e);O(s||null);const t=await o.D.getByFaseId(e);T(t)}catch(s){console.error("Error loading fase data:",s)}finally{q(!1)}},Q=async e=>{if(M){q(!0);try{O(null);const s=await o.D.getAll({temporadaId:e,competencia:M.id});T(s)}catch(s){console.error("Error loading temporada matches:",s)}finally{q(!1)}}};return G?(0,h.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsx)("div",{className:"mb-4 h-8 w-8 animate-spin rounded-full border-4 border-brand-200 border-t-brand-600 mx-auto"}),(0,h.jsx)("p",{className:"text-slate-600",children:"Cargando competencia..."})]})}):J||!M?(0,h.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,h.jsxs)("div",{className:"text-center",children:[(0,h.jsxs)("p",{className:"mb-4 text-red-600",children:["Error al cargar competencia: ",J||"No encontrada"]}),(0,h.jsx)("button",{onClick:()=>i("/competencias"),className:"text-brand-600 hover:underline",children:"Volver a competencias"})]})}):(0,h.jsx)("div",{className:"min-h-screen bg-slate-50 py-8",children:(0,h.jsxs)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[(0,h.jsxs)("div",{className:"mb-8 bg-white rounded-lg shadow-sm p-6 border border-slate-200",children:[(0,h.jsx)("button",{onClick:()=>i("/competencias"),className:"mb-4 text-sm text-slate-500 hover:text-slate-700 flex items-center gap-1",children:"\u2190 Volver"}),(0,h.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:M.nombre}),(0,h.jsx)("p",{className:"mt-1 text-slate-600",children:M.descripcion||"Sin descripci\xf3n"}),(0,h.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,h.jsx)("span",{className:"inline-flex items-center rounded-full bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700 ring-1 ring-inset ring-blue-700/10",children:M.modalidad||"General"}),(0,h.jsx)("span",{className:"inline-flex items-center rounded-full bg-purple-50 px-2 py-1 text-xs font-medium text-purple-700 ring-1 ring-inset ring-purple-700/10",children:M.categoria||"General"}),H&&(0,h.jsx)("span",{className:"inline-flex items-center rounded-full bg-yellow-50 px-2 py-1 text-xs font-medium text-yellow-800 ring-1 ring-inset ring-yellow-600/20",children:"\ud83c\udfc6 Ranked"})]})]}),(0,h.jsxs)("div",{className:"text-right",children:[(0,h.jsx)("div",{className:"text-sm text-slate-500",children:"Estado"}),(0,h.jsx)("div",{className:"font-medium capitalize text-slate-900",children:(null===(e=M.estado)||void 0===e?void 0:e.replace("_"," "))||"Desconocido"})]})]})]}),(0,h.jsx)("div",{className:"mb-6 border-b border-slate-200",children:(0,h.jsxs)("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[(0,h.jsx)("button",{onClick:()=>b("info"),className:"".concat("info"===u?"border-brand-500 text-brand-600":"border-transparent text-slate-500 hover:border-slate-300 hover:text-slate-700"," whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium"),children:"Informaci\xf3n"}),(0,h.jsx)("button",{onClick:()=>b("partidos"),className:"".concat("partidos"===u?"border-brand-500 text-brand-600":"border-transparent text-slate-500 hover:border-slate-300 hover:text-slate-700"," whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium"),children:"Partidos"}),!H&&(0,h.jsx)("button",{onClick:()=>b("resultados"),className:"".concat("resultados"===u?"border-brand-500 text-brand-600":"border-transparent text-slate-500 hover:border-slate-300 hover:text-slate-700"," whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium"),children:"Resultados"}),H&&(0,h.jsx)("button",{onClick:()=>b("leaderboard"),className:"".concat("leaderboard"===u?"border-brand-500 text-brand-600":"border-transparent text-slate-500 hover:border-slate-300 hover:text-slate-700"," whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium"),children:"Leaderboard"})]})}),(0,h.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 min-h-[400px]",children:["info"===u&&(0,h.jsxs)("div",{className:"p-6",children:[(0,h.jsx)("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Detalles de la Competencia"}),(0,h.jsxs)("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("dt",{className:"text-sm font-medium text-slate-500",children:"Fecha de Inicio"}),(0,h.jsx)("dd",{className:"mt-1 text-sm text-slate-900",children:M.fechaInicio?new Date(M.fechaInicio).toLocaleDateString():"-"})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("dt",{className:"text-sm font-medium text-slate-500",children:"Fecha de Fin"}),(0,h.jsx)("dd",{className:"mt-1 text-sm text-slate-900",children:M.fechaFin?new Date(M.fechaFin).toLocaleDateString():"-"})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("dt",{className:"text-sm font-medium text-slate-500",children:"Organizaci\xf3n"}),(0,h.jsx)("dd",{className:"mt-1 text-sm text-slate-900",children:(null===(s=M.organizacion)||void 0===s?void 0:s.nombre)||"N/A"})]})]})]}),"partidos"===u&&(0,h.jsx)("div",{className:"p-6",children:"detail"===z&&V?(0,h.jsxs)("div",{children:[(0,h.jsx)("button",{onClick:()=>{B("list"),R("")},className:"mb-4 text-sm text-slate-500 hover:text-slate-700 flex items-center gap-1",children:"\u2190 Volver a partidos"}),(0,h.jsx)(D,{partidoId:V})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,h.jsxs)("div",{className:"w-full sm:w-1/3",children:[(0,h.jsx)("label",{htmlFor:"temporada-partidos",className:"block text-sm font-medium text-slate-700 mb-1",children:"Temporada"}),(0,h.jsxs)("select",{id:"temporada-partidos",value:k,onChange:e=>P(e.target.value),className:"block w-full rounded-md border-slate-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 sm:text-sm p-2 border",children:[0===y.length&&(0,h.jsx)("option",{value:"",children:"No hay temporadas"}),y.map(e=>(0,h.jsx)("option",{value:e._id,children:e.nombre},e._id))]})]}),(0,h.jsxs)("div",{className:"w-full sm:w-1/3",children:[(0,h.jsx)("label",{htmlFor:"fase-partidos",className:"block text-sm font-medium text-slate-700 mb-1",children:"Fase"}),(0,h.jsxs)("select",{id:"fase-partidos",value:A,onChange:e=>C(e.target.value),className:"block w-full rounded-md border-slate-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 sm:text-sm p-2 border",disabled:!k||0===I.length,children:[(0,h.jsx)("option",{value:"",children:"Todas las fases"}),I.map(e=>(0,h.jsx)("option",{value:e._id,children:e.nombre},e._id))]})]})]}),F?(0,h.jsxs)("div",{className:"p-12 text-center",children:[(0,h.jsx)("div",{className:"inline-block h-6 w-6 animate-spin rounded-full border-2 border-brand-600 border-t-transparent"}),(0,h.jsx)("p",{className:"mt-2 text-sm text-slate-500",children:"Cargando partidos..."})]}):A||k?0===L.length?(0,h.jsx)("div",{className:"p-12 text-center text-slate-500",children:"No hay partidos registrados."}):(0,h.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:L.map(e=>(0,h.jsx)(m.A,{partido:e,onClick:()=>{R(e.id),B("detail")}},e.id))}):(0,h.jsx)("div",{className:"p-12 text-center text-slate-500",children:"Selecciona una temporada para ver los partidos."})]})}),"resultados"===u&&(0,h.jsx)("div",{className:"p-6",children:"detail"===z&&V?(0,h.jsxs)("div",{children:[(0,h.jsx)("button",{onClick:()=>{B("list"),R("")},className:"mb-4 text-sm text-slate-500 hover:text-slate-700 flex items-center gap-1",children:"\u2190 Volver a resultados"}),(0,h.jsx)(D,{partidoId:V})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,h.jsxs)("div",{className:"w-full sm:w-1/3",children:[(0,h.jsx)("label",{htmlFor:"temporada",className:"block text-sm font-medium text-slate-700 mb-1",children:"Temporada"}),(0,h.jsxs)("select",{id:"temporada",value:k,onChange:e=>P(e.target.value),className:"block w-full rounded-md border-slate-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 sm:text-sm p-2 border",children:[0===y.length&&(0,h.jsx)("option",{value:"",children:"No hay temporadas"}),y.map(e=>(0,h.jsx)("option",{value:e._id,children:e.nombre},e._id))]})]}),(0,h.jsxs)("div",{className:"w-full sm:w-1/3",children:[(0,h.jsx)("label",{htmlFor:"fase",className:"block text-sm font-medium text-slate-700 mb-1",children:"Fase"}),(0,h.jsxs)("select",{id:"fase",value:A,onChange:e=>C(e.target.value),className:"block w-full rounded-md border-slate-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 sm:text-sm p-2 border",disabled:!k||0===I.length,children:[0===I.length&&(0,h.jsx)("option",{value:"",children:"No hay fases"}),I.map(e=>(0,h.jsx)("option",{value:e._id,children:e.nombre},e._id))]})]})]}),F?(0,h.jsxs)("div",{className:"p-12 text-center",children:[(0,h.jsx)("div",{className:"inline-block h-6 w-6 animate-spin rounded-full border-2 border-brand-600 border-t-transparent"}),(0,h.jsx)("p",{className:"mt-2 text-sm text-slate-500",children:"Cargando resultados..."})]}):A?(0,h.jsx)("div",{children:"grupo"===(null===_||void 0===_?void 0:_.tipo)||"liga"===(null===_||void 0===_?void 0:_.tipo)?(0,h.jsx)(p.P,{faseId:A}):"playoff"===(null===_||void 0===_?void 0:_.tipo)?(0,h.jsx)(g,{matches:L}):(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{className:"text-lg font-medium text-slate-900 mb-4",children:"Partidos de la Fase"}),0===L.length?(0,h.jsx)("p",{className:"text-slate-500",children:"No hay partidos registrados en esta fase."}):(0,h.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:L.map(e=>(0,h.jsx)(m.A,{partido:e,onClick:()=>{R(e.id),B("detail")}},e.id))})]})}):(0,h.jsx)("div",{className:"p-12 text-center text-slate-500",children:"Selecciona una temporada y una fase para ver los resultados."})]})}),"leaderboard"===u&&(0,h.jsxs)("div",{className:"p-6",children:[(0,h.jsxs)("div",{className:"flex items-end justify-between mb-6 gap-4",children:[(0,h.jsxs)("div",{className:"w-full sm:w-1/3",children:[(0,h.jsx)("label",{htmlFor:"temporada-leaderboard",className:"block text-sm font-medium text-slate-700 mb-1",children:"Temporada"}),(0,h.jsxs)("select",{id:"temporada-leaderboard",value:k,onChange:e=>P(e.target.value),className:"block w-full rounded-md border-slate-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 sm:text-sm p-2 border",children:[(0,h.jsx)("option",{value:"",children:"Hist\xf3rico Global"}),y.map(e=>(0,h.jsx)("option",{value:e._id,children:e.nombre},e._id))]})]}),(0,h.jsx)("div",{className:"mb-1",children:(0,h.jsx)(E,{trigger:(0,h.jsxs)("button",{className:"text-sm text-brand-600 hover:text-brand-700 font-medium flex items-center gap-1 transition-colors",children:[(0,h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,h.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),"\xbfC\xf3mo funciona el ranking?"]})})})]}),f?(0,h.jsxs)("div",{className:"p-12 text-center",children:[(0,h.jsx)("div",{className:"inline-block h-6 w-6 animate-spin rounded-full border-2 border-brand-600 border-t-transparent"}),(0,h.jsx)("p",{className:"mt-2 text-sm text-slate-500",children:"Cargando ranking..."})]}):0===j.length?(0,h.jsx)("div",{className:"p-12 text-center text-slate-500",children:"No hay datos de ranking disponibles para esta selecci\xf3n."}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,h.jsxs)("table",{className:"min-w-full divide-y divide-slate-200",children:[(0,h.jsx)("thead",{className:"bg-slate-50",children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"#"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Jugador"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Rating (ELO)"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Partidos"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Tendencia"})]})}),(0,h.jsx)("tbody",{className:"bg-white divide-y divide-slate-200",children:j.map((e,s)=>(0,h.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:s+1}),(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,h.jsx)("div",{className:"text-sm font-medium text-slate-900",children:e.playerName||e.playerId})}),(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-slate-900",children:e.rating.toFixed(3)}),(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-500",children:e.matchesPlayed}),(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.lastDelta?(0,h.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ".concat(e.lastDelta>0?"bg-green-100 text-green-800":e.lastDelta<0?"bg-red-100 text-red-800":"bg-slate-100 text-slate-800"),children:[e.lastDelta>0?"+":"",e.lastDelta]}):(0,h.jsx)("span",{className:"text-slate-400",children:"-"})})]},e.playerId))})]})}),(0,h.jsx)("div",{className:"md:hidden space-y-4",children:j.map((e,s)=>(0,h.jsxs)("div",{className:"bg-white border border-slate-200 rounded-lg p-4 shadow-sm",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("span",{className:"inline-flex items-center justify-center w-8 h-8 bg-slate-100 text-slate-600 rounded-full text-sm font-bold",children:s+1}),(0,h.jsx)("div",{children:(0,h.jsx)("div",{className:"text-sm font-medium text-slate-900",children:e.playerName||e.playerId})})]}),(0,h.jsxs)("div",{className:"text-right",children:[(0,h.jsx)("div",{className:"text-lg font-bold text-slate-900",children:e.rating.toFixed(3)}),(0,h.jsx)("div",{className:"text-xs text-slate-500",children:"ELO"})]})]}),(0,h.jsx)("div",{className:"flex items-center justify-between text-sm",children:(0,h.jsxs)("div",{className:"flex items-center gap-4",children:[(0,h.jsxs)("span",{className:"text-slate-500",children:["Partidos: ",e.matchesPlayed]}),e.lastDelta?(0,h.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ".concat(e.lastDelta>0?"bg-green-100 text-green-800":e.lastDelta<0?"bg-red-100 text-red-800":"bg-slate-100 text-slate-800"),children:["Tendencia: ",e.lastDelta>0?"+":"",e.lastDelta]}):(0,h.jsx)("span",{className:"text-slate-400",children:"Sin cambios"})]})})]},e.playerId))})]})]})]})]})})}},3207:(e,s,t)=>{t.d(s,{t:()=>l});var a=t(5043);function l(e){const[s,t]=(0,a.useState)(),[l,r]=(0,a.useState)(!0),[d,i]=(0,a.useState)(null),n=(0,a.useCallback)(async()=>{r(!0),i(null);try{const s=await e();t(s)}catch(s){i(s instanceof Error?s.message:"An unknown error occurred")}finally{r(!1)}},[e]);return(0,a.useEffect)(()=>{n()},[n]),{data:s,loading:l,error:d,refetch:n}}},5182:(e,s,t)=>{t.d(s,{D:()=>l});var a=t(1663);class l{static async getAll(e){const s=new URLSearchParams;e&&Object.entries(e).forEach(e=>{let[t,a]=e;void 0!==a&&null!==a&&s.append(t,String(a))}),s.has("limit")||s.append("limit","1000");const t=s.toString()?"".concat(this.API_ENDPOINT,"?").concat(s):this.API_ENDPOINT,l=await(0,a.t)(t);return Array.isArray(l)?l:l&&Array.isArray(l.items)?l.items:[]}static async getPaginated(e){var s,t;const l=new URLSearchParams,r=null!==(s=null===e||void 0===e?void 0:e.page)&&void 0!==s?s:1,d=null!==(t=null===e||void 0===e?void 0:e.limit)&&void 0!==t?t:20;l.append("page",String(r)),l.append("limit",String(d));const i=null===e||void 0===e?void 0:e.filters;i&&Object.entries(i).forEach(e=>{let[s,t]=e;void 0!==t&&null!==t&&l.append(s,String(t))});const n="".concat(this.API_ENDPOINT,"?").concat(l.toString());return(0,a.t)(n)}static async getById(e){return(0,a.t)("".concat(this.API_ENDPOINT,"/").concat(e))}static async create(e){return(0,a.t)("".concat(this.API_ENDPOINT),{method:"POST",body:JSON.stringify(e)})}static async update(e,s){return(0,a.t)("".concat(this.API_ENDPOINT,"/").concat(e),{method:"PATCH",body:JSON.stringify(s)})}static async delete(e){return(0,a.t)("".concat(this.API_ENDPOINT,"/").concat(e),{method:"DELETE"})}static async getByCompetenciaId(e){return this.getAll({competenciaId:e})}static async getByFaseId(e){return this.getAll({fase:e})}static async getByEstado(e){return this.getAll({estado:e})}static async getProximos(){return this.getByEstado("proximamente")}static async getEnCurso(){return this.getByEstado("en_curso")}static async getFinalizados(){return this.getByEstado("finalizado")}}l.API_ENDPOINT="/partidos"},6677:(e,s,t)=>{t.d(s,{v:()=>l});var a=t(1663);class l{static async getByTemporada(e){return(0,a.t)("".concat(this.API_ENDPOINT,"?temporada=").concat(e))}}l.API_ENDPOINT="/fases"},7777:(e,s,t)=>{t.d(s,{H:()=>l});var a=t(1663);class l{static async getByCompetencia(e){return(0,a.t)("".concat(this.API_ENDPOINT,"?competencia=").concat(e))}}l.API_ENDPOINT="/temporadas"}}]);
//# sourceMappingURL=383.18c3922d.chunk.js.map