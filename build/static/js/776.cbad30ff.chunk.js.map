{"version":3,"file":"static/js/776.cbad30ff.chunk.js","mappings":"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","sources":["shared/hooks/useEntity.ts","features/equipos/pages/Equipos.tsx","features/equipos/services/equipoService.ts"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\n\nexport function useEntity<T>(fetchFn: () => Promise<T>) {\n  const [data, setData] = useState<T>();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const fetchData = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const result = await fetchFn();\n      setData(result);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'An unknown error occurred');\n    } finally {\n      setLoading(false);\n    }\n  }, [fetchFn]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  return { data, loading, error, refetch: fetchData };\n}\n","import React, { useCallback, useMemo, useState } from 'react';\r\nimport { EquipoCard } from '../../../shared/components';\r\nimport { useEntity } from '../../../shared/hooks';\r\nimport { EquipoService, type Equipo } from '../services/equipoService';\r\n\r\nconst Equipos: React.FC = () => {\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(20);\r\n  const { data: paged, loading, error, refetch } = useEntity<{ items: Equipo[]; page: number; limit: number; total: number } | Equipo[]>(\r\n    useCallback(() => EquipoService.getPaginated({ page, limit }), [page, limit])\r\n  );\r\n  const equipos = useMemo(() => {\r\n    if (!paged) return [];\r\n    if (Array.isArray(paged)) {\r\n      const start = (page - 1) * limit;\r\n      return paged.slice(start, start + limit);\r\n    }\r\n    return paged.items ?? [];\r\n  }, [paged, page, limit]);\r\n  const total = useMemo(() => {\r\n    if (!paged) return 0;\r\n    if (Array.isArray(paged)) return paged.length;\r\n    return paged.total ?? equipos.length;\r\n  }, [paged, equipos.length]);\r\n  const totalPages = useMemo(() => (limit > 0 ? Math.max(1, Math.ceil(total / limit)) : 1), [total, limit]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex min-h-screen items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"mb-4 h-8 w-8 animate-spin rounded-full border-4 border-brand-200 border-t-brand-600 mx-auto\"></div>\r\n          <p className=\"text-slate-600\">Cargando equipos...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"flex min-h-screen items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <p className=\"mb-4 text-red-600\">Error al cargar equipos: {error}</p>\r\n          <button\r\n            onClick={refetch}\r\n            className=\"rounded-lg bg-brand-600 px-4 py-2 text-white hover:bg-brand-700\"\r\n          >\r\n            Reintentar\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-slate-50 py-8\">\r\n      <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-3xl font-bold text-slate-900\">Equipos</h1>\r\n          <p className=\"mt-2 text-slate-600\">Directorio de equipos registrados</p>\r\n        </div>\r\n\r\n        {!equipos || equipos.length === 0 ? (\r\n          <div className=\"text-center py-12\">\r\n            <p className=\"text-slate-500\">No hay equipos disponibles</p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\r\n            {equipos.map((equipo) => (\r\n              <EquipoCard\r\n                key={equipo.id}\r\n                equipo={equipo}\r\n                actions={\r\n                  <button\r\n                    onClick={() => console.log('Ver detalles de', equipo.nombre)}\r\n                    className=\"rounded-lg bg-brand-600 px-3 py-1.5 text-sm text-white hover:bg-brand-700\"\r\n                  >\r\n                    Ver detalles\r\n                  </button>\r\n                }\r\n              />\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"mt-8 flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <span className=\"text-sm text-slate-600\">Mostrar</span>\r\n            <select\r\n              value={limit}\r\n              onChange={(e) => { setPage(1); setLimit(parseInt(e.target.value)); }}\r\n              className=\"rounded-lg border border-slate-300 text-sm px-2 py-1\"\r\n            >\r\n              <option value={12}>12</option>\r\n              <option value={20}>20</option>\r\n              <option value={36}>36</option>\r\n              <option value={44}>44</option>\r\n            </select>\r\n            <span className=\"text-sm text-slate-600\">por página</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <button\r\n              onClick={() => setPage((prev) => Math.max(1, prev - 1))}\r\n              disabled={page <= 1}\r\n              className=\"rounded-lg border border-slate-300 px-3 py-1.5 text-sm text-slate-700 disabled:opacity-50\"\r\n            >\r\n              ← Anterior\r\n            </button>\r\n            <span className=\"text-sm text-slate-700\">Página {page} de {totalPages}</span>\r\n            <button\r\n              onClick={() => setPage((prev) => Math.min(totalPages, prev + 1))}\r\n              disabled={page >= totalPages}\r\n              className=\"rounded-lg border border-slate-300 px-3 py-1.5 text-sm text-slate-700 disabled:opacity-50\"\r\n            >\r\n              Siguiente →\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Equipos;\r\n","import { fetchWithAuth } from '../../../utils/apiClient';\r\n\r\nexport interface Equipo {\r\n  id: string;\r\n  nombre: string;\r\n  ciudad?: string;\r\n  organizacionId?: string;\r\n  organizacion?: {\r\n    id: string;\r\n    nombre: string;\r\n  };\r\n  miembros?: number;\r\n  imagen?: string;\r\n  escudo?: string;\r\n  activo?: boolean;\r\n  [key: string]: any;\r\n}\r\n\r\nexport class EquipoService {\r\n  private static readonly API_ENDPOINT = '/equipos';\r\n\r\n  static async getAll(filters?: Record<string, any>): Promise<Equipo[]> {\r\n    const queryParams = new URLSearchParams();\r\n    if (filters) {\r\n      Object.entries(filters).forEach(([key, value]) => {\r\n        if (value !== undefined && value !== null) {\r\n          queryParams.append(key, String(value));\r\n        }\r\n      });\r\n    }\r\n    \r\n    // Ensure we get enough items since backend paginates by default\r\n    if (!queryParams.has('limit')) {\r\n      queryParams.append('limit', '1000');\r\n    }\r\n\r\n    const url = queryParams.toString() ? `${this.API_ENDPOINT}?${queryParams}` : this.API_ENDPOINT;\r\n    const response = await fetchWithAuth<any>(url);\r\n    \r\n    if (Array.isArray(response)) {\r\n      return response;\r\n    } else if (response && Array.isArray(response.items)) {\r\n      return response.items;\r\n    }\r\n    return [];\r\n  }\r\n\r\n  static async getPaginated(options?: { page?: number; limit?: number; filters?: Record<string, any> }): Promise<{ items: Equipo[]; page: number; limit: number; total: number }> {\r\n    const queryParams = new URLSearchParams();\r\n    const page = options?.page ?? 1;\r\n    const limit = options?.limit ?? 20;\r\n    queryParams.append('page', String(page));\r\n    queryParams.append('limit', String(limit));\r\n\r\n    const filters = options?.filters;\r\n    if (filters) {\r\n      Object.entries(filters).forEach(([key, value]) => {\r\n        if (value !== undefined && value !== null) {\r\n          queryParams.append(key, String(value));\r\n        }\r\n      });\r\n    }\r\n\r\n    const url = `${this.API_ENDPOINT}?${queryParams.toString()}`;\r\n    return fetchWithAuth<{ items: Equipo[]; page: number; limit: number; total: number }>(url);\r\n  }\r\n\r\n  static async getById(id: string): Promise<Equipo> {\r\n    return fetchWithAuth<Equipo>(`${this.API_ENDPOINT}/${id}`);\r\n  }\r\n\r\n  static async create(data: Omit<Equipo, 'id'>): Promise<Equipo> {\r\n    return fetchWithAuth<Equipo>(`${this.API_ENDPOINT}`, {\r\n      method: 'POST',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  static async update(id: string, data: Partial<Equipo>): Promise<Equipo> {\r\n    return fetchWithAuth<Equipo>(`${this.API_ENDPOINT}/${id}`, {\r\n      method: 'PATCH',\r\n      body: JSON.stringify(data),\r\n    });\r\n  }\r\n\r\n  static async delete(id: string): Promise<void> {\r\n    return fetchWithAuth<void>(`${this.API_ENDPOINT}/${id}`, {\r\n      method: 'DELETE',\r\n    });\r\n  }\r\n\r\n  static async getByOrganizacionId(organizacionId: string): Promise<Equipo[]> {\r\n    return fetchWithAuth<Equipo[]>(`${this.API_ENDPOINT}?organizacionId=${organizacionId}`);\r\n  }\r\n}\r\n"],"names":["useEntity","fetchFn","data","setData","useState","loading","setLoading","error","setError","fetchData","useCallback","async","result","err","Error","message","useEffect","refetch","Equipos","page","setPage","limit","setLimit","paged","EquipoService","getPaginated","equipos","useMemo","_paged$items","Array","isArray","start","slice","items","total","_paged$total","length","totalPages","Math","max","ceil","_jsx","className","children","_jsxs","onClick","map","equipo","EquipoCard","actions","console","log","nombre","id","value","onChange","e","parseInt","target","prev","disabled","min","getAll","filters","queryParams","URLSearchParams","Object","entries","forEach","_ref","key","undefined","append","String","has","url","toString","concat","this","API_ENDPOINT","response","fetchWithAuth","options","_options$page","_options$limit","_ref2","getById","create","method","body","JSON","stringify","update","delete","getByOrganizacionId","organizacionId"],"sourceRoot":""}